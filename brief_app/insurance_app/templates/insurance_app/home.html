{% extends "insurance_app/base_final.html" %}
{% load static %}
{% block content %}

    <!-- Slideshow Section -->
    <div class="slideshow-container">
        <!-- Blurred background -->
        <div
            class="slideshow-blur"
            id="slideshow-blur"
            style="background-image: url('{% static 'images/background1.svg' %}');">
        </div>
    
        <!-- Main image -->
        <div
            class="slideshow-image"
            id="slideshow-image"
            style="background-image: url('{% static 'images/background1.svg' %}');">
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col justify-center items-center text-center ">
        <!-- Welcome Message -->
        <div class="flex flex-col justify-center items-center text-center my-8">
            <h1 class="text-5xl md:text-6xl font-bold text-emerald-900">
                Welcome to Assur'Aimant
            </h1>
            <h2 class="text-lg md:text-2xl m-5 italic text-black">
                Because Your Health Deserves a Plan That Fits.
            </h2>
        </div>
    </main>

    <!-- Info Bar -->
    <div class="bg-gray-200 bg-opacity-80 p-4 md:p-8 w-11/12 md:w-4/5 mx-auto flex flex-col md:flex-row justify-between items-center mb-4">
        <!-- Content (same as original) -->
        <div class="w-full md:w-1/3 text-center md:text-left mb-4 md:mb-0">
            <h3 class="mb-3 font-bold text-lg text-emerald-900">Assur'Aimant</h3>
            <ul class="list-none space-y-2">
                <li><a href="{% url 'about' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">About Us</a></li>
                <li><a href="{% url 'join_us' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">Join Us</a></li>
            </ul>
        </div>
        <div class="w-full md:w-1/3 text-center md:text-left">
            <h3 class="mb-3 font-bold text-lg text-emerald-900">Assur'Cares</h3>
            <ul class="list-none space-y-2">
                <li><a href="{% url 'predict_charges' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">Need a Quote</a></li>
                <li><a href="{% url 'contact' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">Need Help</a></li>
            </ul>
        </div>
        <div class="w-full md:w-1/3 text-center md:text-left">
            <h3 class="mb-3 font-bold text-lg text-emerald-900">Assur'Awareness</h3>
            <ul class="list-none space-y-2">
                <li><a href="{% url 'health_advices' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">Health Advice</a></li>
                <li><a href="{% url 'cybersecurity_awareness' %}" class="text-gray-900 hover:text-[#ed1c24] transition duration-300">Cybersecurity Awareness</a></li>
            </ul>
        </div>
    </div>


    <script>
        const images = [
        "{% static 'images/background1.svg' %}",
        "{% static 'images/background2.svg' %}",
        "{% static 'images/background3.svg' %}",
    ];
    
    let currentImageIndex = 0;
    
        // Function to update the slideshow images with fade-in effect
        setInterval(() => {
            const blurElement = document.getElementById('slideshow-blur');
            const imageElement = document.getElementById('slideshow-image');

            // Fade out current image
            imageElement.style.opacity = 0;
            blurElement.style.opacity = 0;

            setTimeout(() => {
                // Update the background images after fade-out
                currentImageIndex = (currentImageIndex + 1) % images.length;
                blurElement.style.backgroundImage = `url(${images[currentImageIndex]})`;
                imageElement.style.backgroundImage = `url(${images[currentImageIndex]})`;

                // Fade in the new image
                imageElement.style.opacity = 1;
                blurElement.style.opacity = 1;
            }, 2000);
        }, 10000);
    </script>
    <style>


        /* Container for the slideshow */
        .slideshow-container {
            position: relative;
            width: 100%;
            height: 45vh; /* Adjust slideshow height */
            overflow: hidden;
        }

        /* Blurred background */
        .slideshow-blur {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            filter: blur(20px); /* Blur effect */
            transform: scale(1.1); /* Scale to prevent edge gaps */
            z-index: -1; /* Behind other content */
            opacity: 1;
            transition: opacity 2s ease-in-out;
        }

        /* Main image */
        .slideshow-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: contain; /* Full image without cropping */
            background-position: center;
            background-repeat: no-repeat;
            z-index: 1;
            opacity: 1;
            transition: opacity 2s ease-in-out;
        }
    </style>

{% endblock %}
